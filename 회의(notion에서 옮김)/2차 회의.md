# 2차 회의 (25.12.01)

## 토론 주제

-   도메인 분석
-   DB 작성
-   Back-end 스펙 정리
-   Front-end 스펙 정리

## 도메인 분석

-   투표를 여는 시점은 대부분 강의 시간에 별도 시간을 할애하여 작성하는 것으로 생각함
    -   따라서, 교수만 투표 관련한 일정 여유 시간 데이터를 볼 수 있도록 한다
    -   교수의 경우, 1시간에 3번만 새로고침 할 수 있도록 한다던지 하는 제한을 두거나
    -   or 1시간에 한번만 자동으로 업데이트 하거나
    -   or 하루에 한번만 자동으로 업데이트 하거나 등의 제한이 필요해 보인다.
-   과목 개설의 경우, 수강 신청 기간 or 학교 학기 중에는 강의 자체의 시간표를 수정하는 것은 불가능하다고 가정한다.
    -   즉, 시간표는 수강 신청 전에 확정이 지어지는 것으로 가정
-   보강 일정의 경우 강의실이 변경될 수 있지 않을까?

## 데이터베이스

-   공통적으로 고민할 부분

    -   일정 분류 테이블에 과목 코드 or 학과 코드를 넣을지
    -   일정과 강의 일정을 분리해서 관리할지 or 공통으로 관리할지 (분리가 맞을것으로 생각중)
    -   코드 등의 경우 숫자(0, 1, 2 등) or 가급적 대문자 1단어 (M, G, C 등) or 풀네임 대문자 영단어 (COMMON 등)

-   일정 분류 테이블 (ScheduleType)

    -   일정 분류 (전공 필수 / 전공 선택 / 교양 필수 / 교양 선택 / 일반 일정 / ~~시험 일정(투표 데이터)~~)
    -   과목코드 or 학과코드 → 외래 키 개념 (일반 일정의 경우 ‘C’ 등)
    -   ========================================================
    -   ! 시험 일정 분류(투표 데이터)는 고민해 볼 부분

-   학부 정보 테이블 (**facultyInfo**)

    -   학부 코드 → 기본 키
    -   학부 분류 (공과 / 인문 / 사회 / 자연계 / 신학 / 보건 / 교양)

-   학과 정보 테이블 (DepartmentInfo)

    -   학과 코드 → 기본 키
    -   학과 분류 (컴공 / 정통 / 경제 / 역사 / 국문 / 경영)
    -   학부 코드 → 외래 키

-   강의 정보 테이블 (CourseInfo - 메인 / SubjectInfo)

    -   강의 코드 → 기본 키 (복합 키)
    -   강의 이름
    -   강의 시작일
    -   강의 종료일
    -   강의 시간
    -   학과 코드 or 학과 정보
    -   강의 분반 → 기본 키 (복합 키)
    -   강의실 (강의실 정보 테이블 외래 키)
    -   담당 교수 (교수 정보 테이블 외래 키)
    -   이수 구분 (필수 / 선택)
    -   전공 여부 (전공 / 교양)
    -   수강 인원 (수강 인원 ≤ 강의실 정보의 정원 )

-   강의 일정 테이블 (CourseSchedule)

    -   강의 일정 코드 (자동 생성) → 기본 키
    -   회원 ID → 외래 키
    -   강의 이름
    -   강의 시간
    -   강의실
    -   담당 교수
    -   전공 여부
    -   강의 코드 → 외래 키
    -   ========================================================
    -   교수 전화번호를 칼럼에 넣을까? - 민감정보긴 함 (빼는 것으로 결정)
    -   강의 일정은 강의 정보 테이블에서 강의 시작일 ~ 강의 종료일까지 반복되는 일정 생성
    -   어떤 특정 강의가 어떤 특정 날짜의 강의가 보강 등 일정으로 변경되는 경우
        -   보강 일정만 변경하는 것은 가능할 것 같음 : 날짜+시간만 변경되는 경우, UPDATE 돌릴수 있음!
        -   보강 일정의 경우, 원래 사용하던 강의실이 보강 시간에 사용중일 가능성 있음!
        -   즉, 보강 일정의 경우, 강의실이 변경될 수 있다.
        -   강의 일정에 강의실 정보가 들어가야 할까? - 생각해보기
        -   강의 일정 변경의 경우, 강의 코드와 강의 시간을 검색해서 변경하면 구현 가능할 것으로 보인다.
        -   보강 일정이 확정되는 경우 알림 - 강의실 변경여부 + 시간 변경여부 등

-   회원 개인 일정 테이블 (MemberSchedule)

    -   회원 일정 코드 (자동생성) → 기본 키
    -   회원 ID → 외래 키
    -   일정 시작 시간
    -   일정 종료 시간
    -   제목
    -   내용 (메모)
    -   ===========================================
    -   애플 캘린더 기준으로 생각했을 때, 확장 or 고려할 부분
    -   위치 정보 (그냥 주소로 적을지, 맵을 활용할 지)
    -   알림(추가고려 5분전/10분전/1시간전 등 생각해보기)
    -   일정 분류 (중요도 등)

-   투표 테이블 (Vote) - ! 보류 !

    -   투표 코드 (자동 생성) → 기본 키
    -   제목
    -   내용
    -   강의 코드 → 외래 키
    -   강의 분반 → 외래 키
    -   일정 분류 (시험 일정, 보강 일정 등)
    -   시작시간 (연월일)
    -   종료시간 (연월일)
    -   투표 수 ++
    -   ===============================
    -   투표 테이블
        -   투표 메인 테이블 + 투표 세부테이블로 만들지?
        -   투표 테이블 하나 통합으로 구현 가능할지?
        -   투표 결과 테이블을 따로 만들어야 할지? 등등
        -   다음 회의에 다시 한번 생각해오고 그때 다시 세부내용 또 토론해서 결정

-   회원 정보 테이블
    -   회원 ID → 기본 키
    -   비밀번호
    -   이메일
    -   이름
    -   전화번호
    -   생년월일
    -   주소
    -   가입일
    -   회원 구분 (교수/관리자/학생)
    -   ===================================
    -   이메일 자체를 아이디로 사용할지
    -   소셜 로그인 확장?
    -   닉네임 혹은 별명 사용할지 - 커뮤니티도 생각을 할 것인지
    -   회원 ID 중복검사
    -   회원 ID 변경에 대한 고려 (기본 키인 만큼, 변경 제한 ex. 1달에 한번)
    -   보안 관련
        -   Spring Security : 민감정보 암호화 - 실제로 운영한다는 가정에서는 개인정보보호법 지키기
        -   비밀번호는 단방향 암호화 알고리즘으로 암호화
        -   기타 민감정보는 대칭 키 알고리즘 등을 사용하여 암호화
        -   사용자의 IP 주소 등 정상적인 가입인지 확인
        -   가입 IP 테이블에 저장? - 개인정보보호법
        -   이메일 인증
        -   전화번호 인증

## Back-end

-   Spring Boot (2버전 혹은 3버전)
    -   Spring JPA + Spring Data JPA (데이터베이스)
    -   ~~QueryDSL (데이터베이스)~~
    -   Spring Security + jwt
    -   Spring Validation
    -   ~~Spring Batch~~
    -   ~~Swagger~~
    -   ~~Spring Test~~
-   Java 17
    -   Lombok

## 데이터베이스

-   Mysql / MariaDB 10.1

## Front-end

-   React: NextJS
    -   React 17.x
-   Typescript
    -   type 지정 사용 / API: Axios 라이브러리
-   Regex(정규식 검사)
    -   React 전용 라이브러리 활용 예정
-   State
    -   Redux로 하나의 컴포넌트에서 관리
-   유저 데이터 type 지정
    -   -   IP검사 및 기타 사항

## 팀 업데이트
