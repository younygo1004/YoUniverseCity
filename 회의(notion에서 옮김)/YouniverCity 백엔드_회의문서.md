# YouniverCity 백엔드 (~25.11.28)

### 백엔드 스택

-   기본 스택
    -   Spring Boot (최신 버전 : 최소 Spring Boot 6)
    -   Java 17 (Spring Boot 6 이후 버전 필수!)
-   데이터베이스
    -   Mysql (고려 중, 다른 DB 사용 가능성 있음)
    -   Spring JPA / Spring Data JPA
    -   QueryDSL (고려 중 - 컴파일 타임 DB 타입 검사)
-   기타
    -   AOP를 사용한 예외처리 생각중
    -   테스트코드 작성 고려
    -   SMTP 사용 고려 (앱 내에서 메일을 보내는 기능 구현 시)
    -   jwt (Spring Security에 필요할 것으로 보임)
    -   Lombok (아마도 사용할 듯 함 : annotationProcessor 사용이 필요할 듯)
    -   Spring validation (데이터 검증을 위해 거의 필수적으로 사용할 예정)
    -   Spring Security (필수는 아님, 다만 거의 확정적으로 사용할 예정)
    -   Spring Batch (고려 중 : DB 연산 속도 및 효율성을 위함)
    -   Swagger (고려 중, 병행 혹은 다른 방식으로 API 문서 작성 고려 중)

---

### 프로젝트 고려 사항

-   투표 관련
    -   투표에 필요한 시간 데이터를 어떻게 처리할지 (5/10분/30분/1시간 등)
    -   투표 시간 데이터 및 투표 결과 데이터 처리 방식 (미리 계산할지, 그렇다면 Spring Batch를 사용할 것인지, 또한 학교라는 도메인을 고려해서 적절한 방법 찾기)
    -   투표 확정에 공지에 관한 문제 (공지사항을 교수가 등록하거나, 시험 일정을 자동으로 등록하고 알림을 보내는 방식 등)
    -   투표를 더 원활하게, 공정하게, 또한 소수의 의견 등을 비공개로 교수에게 전달할 수 있는 방안 모색 (학생과 교수의 원활한 소통 방식 생각해보기 : 예시 = 쪽지나 메일 등)
    -   투표 선택지에 관한 문제 (기본 선택은 1개, 중복선택이 가능하게 할지 등 고려사항 많음)
-   강의 데이터 관련
    -   졸업과제 당시, 강의 데이터를 모두 만드는 과정에서 생긴 문제를 어떻게 처리할 것인지에 대한 대책 필요 (기존의 경우 강의 하나 추가 시, 약 3달 간의 데이터를 반복해서 등록해서 생긴 문제들이 있었음.)
    -   교수가 강의를 개설할 시, 같은 강의실에 같은 시간대는 사용하지 못하도록 검사하도록 함 (필수)
    -   학생이 강의를 수강할 시, 같은 시간의 강의는 수강할 수 없도록 함 (필수)
-   비기능 요구사항 관련
    -   민감정보 처리 관련한 처리 문제 (비밀번호 암호화 및 민감정보 암호화 + 백엔드 및 프론트엔드에서 숨겨야 할 정보를 어떻게 처리할지)
    -   Backend 예외처리에 관련한 문제 (어디에서 예외를 처리할 것인지, ExceptionHandler와 관한 문제)

---

### 캘린더 앱에 필요한 데이터베이스 작성 (수정할 사항 많음)

-   겹치는 정보
    -   일정 분류 (Ex. 전공 <필수/선택>, 교양, 시험일정, 개인일정 등)

<일정 분류> - ScheduleType
일정 분류 (Ex. 전공 <필수/선택>, 교양, 시험일정 : 투표 데이터 등)

<학과 정보> - Department
학과 분류 (컴공, 정통, 경제, 역사, 국문, 경영 등)

<강의 정보> - subject : Course 테이블로 이름 변경 고려 : 시간 데이터에 대한 고려 필요함! (시간 데이터는 대부분 별도의 테이블 필요)
강의 코드 (A123 등 코드화한 강의의 코드 : Key 값 유력)
강의 이름 (컴퓨터 개론, 프로그래밍 등)
강의 시간 (예시 - 요일 + 시작시간, 종료시간)
강의 기간 (예시 - 시작 = 2025.03.02 ~ 2025.06.18)
학과 정보 (컴퓨터공학, 교양 등)
강의 분반 ('A'반 , 'B'반 등)
강의실 정보 (강의실 정보 테이블 참조)
담당 교수 (교수 번호 : 교수 정보 테이블에서 가져오기)
이수 구분 (전공 <필수/선택>, 교양 등)
수강 인원 (실제 수강 인원)

-   최대 수강 인원 : 정원
-   최대 인원 : 강의실 정보에서 가져오기? X - 정원보다 작은 인원만 수강 가능하도록 설정하는 경우가 있을듯
-   단, 최대 인원의 경우 강의실 최대 인원보다 크게 설정 불가능하도록 할것

<강의 일정 테이블> - CourseSchedule : 신규 - 강의 정보 하위 테이블?

<회원 일정 테이블> - Calendar: MemberSchedule로 변경 : 제약 사항 = 강의 코드가 있는 경우, 비공개 일정으로 등록 불가
일정 번호 : 정수 자동생성 Primary Key
회원 ID : 문자열
일정 분류 : CalId 외래 키
강의 코드 : Subject 외래 키 (Nullable)

<강의실 정보> - ClassRoom

강의실 번호, 이름 : Key값 예정
좌석 수
위치?

<투표 테이블> - Vote
강의 코드
일정 분류 (시험, 보강 등)

투표 결과 테이블? 시험 일정 테이블? 아니면 둘다?

<회원 정보>
ID - primary Key 고려
닉네임 - 만들지 말지 고민해보기
이름
이메일
전화번호

---

### 회의 추가 내용

-   백엔드

    -   redis 및 파이어베이스 사용 검토(알림 등)
    -   투표에 필요한 시간 데이터의 경우 30분을 전제로 둠
    -   쪽지, 메일 등의 기능은 재고하기로 함 (추후 추가 기능으로 고려하기)

-   인프라 (서버)
    -   FE-WebServer / DB-Server : NAS Synology DS220j
    -   BE-Server: 미정
